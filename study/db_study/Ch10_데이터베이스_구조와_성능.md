# 공부한 내용


## 1. **슈퍼타입/서브타입 모델의 성능고려 방법**

슈퍼/서브타입 데이터 모델은 데이터 모델링에서 자주 쓰이는 모델링 기법이다.

공통되는 부분을 슈퍼 타입으로, 그리고 그 외에 차이점이 있는 부분을 서브 타입으로 만드는 방식인데, 거의 상속과 비슷한 개념이라고 보면 된다.

이 슈퍼/서브타입 모델을 설계할 때는 일정한 기준에 따라서 설계해야 하는데, 어떤 기준이 있는지 ARABOZA

### 트랜잭션의 유형에 따른 설계

트랜잭션의 처리 유형에 맞게 데이터 모델을 설게하는 게 중요하다.

트랜잭션은 일괄로 처리하는데 테이블이 나뉘어져 있어서 JOIN이 불가피하다거나, 트랜잭션은 서브타입 개별로 처리하는데 테이블은 하나로 뭉쳐져서 하는 수 없이 불필요한 데이터까지 봐야하는 상황이 발생하면 안 된다.

### 슈퍼/서브타입 데이터 모델의 변환 기술들

1. 개별로 발생되는 트랜잭션에 대해서는 개별의 테이블로 구성한다.
2. 슈퍼타입+서브타입에 대해 발생되는 트랜잭션에 대해서는 슈퍼타입+서브타입 테이블을 구성한다.
3. 전체를 하나로 묶어 트랜잭션이 발생할 때는 하나의 테이블을 구성한다.

근데 솔직히 예시를 봐도 무슨 말인지 잘 모르겠다… 너무 어렵게 써놨다

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_114.jpg)

## 2. **인덱스 특성을 고려한 PK/FK 데이터베이스 성능향상**

인덱스가 뭔지도 안 가르쳐줘놓고 인덱스 특성을 고려한다는 게 화가 나긴 하는데 일단 봐보자.

### **PK/FK 칼럼 순서와 성능개요**

- PK가 여러 개의 속성으로 이루어진 복합식별자일 때, PK 순서에 의해 성능 저하가 많이 발생한다!
  - 인덱스에서는 앞쪽에 위치한 속성의 값이 비교자(”=”, “<”, “>”, “BETWEEN”)로 있어야 좋은 효율을 낼 수 있다.

→ 아무튼 인덱스를 생성할 때 PK/FK의 순서가 중요하다!

### PK/FK 칼럼의 순서로 인해 성능 저하가 발생하는 이유?

와 여기서 왜 성능 저하가 발생하는지 알 수 있었다. 맨 앞에 비교자를 놓으라는 말은, 즉 정렬할 전체 데이터의 범위를 줄이라는 의미였다.

미리 정렬할 데이터의 총 개수를 줄여놓고 정렬을 시작하면 성능 저하가 덜하지만, 이미 정렬할 거는 다 해놓고 마지막에 와서 총 데이터의 개수를 줄이면 비효율적이라는 뜻이다. 비교자도 되도록이면 “=”과 같이 해당하는 값이 적게 나올만한 비교자를 먼저 쓰는 게 좋다.

근데 솔직히 이게 PK/FK 칼럼의 순서랑 무슨 상관인지는 잘 모르겠다. 좀 더 자세히 알아봐야할 것 같다.

→ 아마도 대충 SQL 쿼리에 맞춰서 PK 순서를 놔야된다는 얘기가 아닌가… 싶다

## 3. 물리적인 테이블에 FK 제약이 걸려있지 않더라도 인덱스 미생성으로 성능 저하

테이블이 물리적으로 연결되어있지 않아도, JOIN 시에 FK 인덱스가 생성되어 있으면 성능저하가 예방된다고 한다. 음… 이것도 잘 모르겠다 솔직히..

# 어려웠던 내용


인덱스를 아직 배우지도 않았는데, 너무 인덱스 관련 내용이 많이 나와서 이해하기가 좀 버거웠다 ㅋㅋㅋ

그래도 일단 인덱스가 어떤 역할을 하고, 내부 구조는 어떻게 되어있는지에 대해 어느정도 알게 되었고, 뭐 자세한 얘기는 모르겠지만

- 인덱스의 칼럼 순서를 SQL 쿼리의 조건 순서와 맞춰야 한다
- 테이블이 물리적으로 연결되어있지 않아도 일단 FK가 있다면, FK 인덱스를 만드는 게 좋다

라는 것을 알게되었다.

# 궁금한 내용 / 부족한 내용


인덱스의 구체적인 작동원리와 세부사항을 알고 싶다…

# 느낀점


인덱스 관련 내용이 계속 나오는데 아무래도 주말 사이에 인덱스를 미리 파봐야하지 않나…라는 생각이 든다.

자꾸 모르는 내용이 나오니까 그냥 억울해서 뭔가 빨리 보고싶다. ㅋㅋㅋㅋ