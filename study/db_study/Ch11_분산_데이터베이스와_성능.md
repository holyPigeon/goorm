# 공부한 내용


## 1. 분산 데이터베이스의 개요

분산 데이터베이스란, 물리적으로는 분리되어 있지만 논리적으로는 동일한 시스템으로 인식되는 데이터베이스를 뜻한다. 물리적으로 분리되어있다는 뜻은, DB가 실재하는 위치가 다르다는 뜻이다.

## 2. 분산 데이터베이스의 투명성

여러가지 투명성에 관한 항목들이 있지만, 요약하자면 다음과 같다.

- 데이터가 여러 개로 나뉘어져 있든, 각기 다른 지역에 위치해있든 간에 이에 대한 관리를 DB 측에서 모두 해주기 때문에 사용자는 그 내부 구조에 대해 알 필요가 없다.
- 시스템의 오류가 발생해도 자동으로 처리되고 복구되기 때문에 사용자에게 문제가 되지 않는다.
- 여러 사용자가 동시에 DB에 접근하더라도 동시성에 대한 처리를 자동으로 해준다.

## 3. 분산 데이터베이스 활용

분산 데이터베이스는 업무 구조에 따라 선택적으로 적용하면 된다. → 너무 단조로운 설명이라 추가 조사가 필요할 듯 하다.

아래는 분산 데이터베이스의 장단점이다.

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_129.jpg)

전체적으로 요약하자면, 장점으로는 용량 확장에 굉장히 용이하고 유연하며, 빠른 성능을 자랑한다는 점이 있다.

하지만 단점으로는, 분산 처리를 위한 소프트웨어 개발 비용이 추가적으로 들며, 설계나 관리하는데 상당히 복잡하고, 아무래도 통합 데이터베이스보다 오류 발생 가능성이 더 높다는 점이 존재한다.

## 4. 분산 데이터베이스를 쓰면 뭐가 좋을까?

가장 큰 장점은 성능이다. 원래 통합 데이터베이스를 사용하면 원거리에서 접속하거나, 다른 서버를 거치면서 생기는 성능 저하가 생기는데, 분산 환경에서는 이러한 저하가 없다.

## 5. 분산 데이터베이스의 종류

### 테이블 위치 분산

테이블의 구조는 똑같지만, 각 테이블의 위치가 다르다.

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_132.jpg)

### 테이블 분할 분산

하나의 테이블을 수평, 또는 수직으로 분할하는 방법이다.

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_134.jpg)

만약 칼럼들이 다 같이 쓰이는 통합 프로세스가 많다면, 칼럼들을 분리시키면 안되므로 수평분할을 하고, 통합 프로세스가 없다면 수직분할해도 된다.

다만, 수직분할 시에는 동일한 PK 구조를 가지도록 분할해야 한다.

### 테이블 복제 분산

동일한 테이블을 다른 지역에 부분적으로 복제, 또는 전체 복제해서 위치시키는 방법이다.

- 부분 복제
  - 각 지사에서 필요한 데이터만 부분적으로 사용할 수 있어서 효율성이 좋다.
  - 지사 간에는 데이터 중복이 발생하지 않고, 본사와 지사 간의 데이터 중복이 발생하게 된다.
  - 보통 지사에서 먼저 데이터를 입력/수정/삭제되고, 이를 본사가 복제, 이용하는 방식이다.

- 광역 복제
  - 본사와 지사가 모두 완벽히 동일한 데이터를 가진다.
  - 보통 본사에서 데이터가 입력/수정/삭제되고 지사가 이를 복제, 이용한다.

DB를 복제하는 것은 시간도 오래 걸리고 서버에 많은 부하가 발생하므로 보통 실시간 처리보다는 배치를 이용한 처리를 선택한다.

### 테이블 요약 분산

- 분석 요약
  - 각 지사별로 동일한 데이터에 대해 요약이 되어 있고, 이를 본사에서 통합해 정보를 산출하는 방식이다.
- 통합 요약
  - 각 지사별로 다른 데이터를 요약하고 있고, 이를 본사에서 취합하여 비교한다.

둘을 비교하자면, 분석 요약은 특정 목적에 맞는 데이터들을 모으는 느낌이고, 통합 요약은 여러 지역이나 조직의 전반적인 데이터들을 모으는 느낌이다.

## 6. 분산 데이터베이스를 적용하면 좋은 경우

- 성능이 중요한 서비스일 경우 분산 데이터베이스를 사용하면 성능이 향상된다.
- 비즈니스적으로 핵심적이고, 활용이 많이 되는 데이터들에 대해 분산 환경을 구성하면 성능이 향상된다.
- 실시간 환경이 아닐 때 사용하기 좋다.
- 특정 서버에 부하가 집중될 때 사용하기 좋다.

# 어려웠던 내용


## 데이터베이스 분할 중 테이블 요약 분산

테이블의 분할 분산, 복제 분산까지는 수월하게 이해했는데, 테이블 요약 분산에 대해서는 뭔가 이해가 좀 애매한 것 같다.

# 궁금한 내용 / 부족한 내용


# 느낀점
