# 공부한 내용

## 1. **STANDARD SQL 개요**

ANSI/ISO SQL 표준을 통해 다양한 회사의 SQL들의 기능이 통일되었다.

### 일반 집합 연산자

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_200.jpg)

- UNION → 합집합
- INTERSECT → 교집합
- EXCEPT | MINUS → 차집합
- CROSS JOIN -> 모든 데이터의 조합(M * N개의 조합)

### 순수 관계 연산자

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_201.jpg)

- SELECT → 흔히 아는 SELECT 절
- PROJECT → 특정 속성값만 뺀다.
- JOIN → 흔히 아는 JOIN
- DIVIDE → 잘 모르겠다.. x와 z를 모두 갖고 있는 항목을 a, b, c 중에서 고르는 것 같긴 하다.

## 2. **FROM 절 JOIN 형태**

다음과 같으 요소들로 구성된다.

- INNER JOIN → 칼럼값이 일치하는 행만 붙인다.
- NATURAL JOIN → EQUI 조인과 같다.
- CROSS JOIN → 모든 경우의 수로 조인한다.
- OUTER JOIN → 칼럼값이 일치하는 행 말고도 모두 붙인다.

다음은 JOIN 할 때 사용되는 조건절이다.

- USING 조건절 → `USING(teamId)`
- ON 조건절 → `ON player.teamId = team.teamId`

## **3. INNER JOIN**

칼럼값이 일치하는 행만 붙이는 JOIN 방식이다.

```sql
SELECT EMP.DEPTNO, EMPNO, ENAME, DNAME 
FROM EMP 
INNER JOIN DEPT 
ON EMP.DEPTNO = DEPT.DEPTNO;
```

## 4. **NATURAL JOIN**

EQUI JOIN과 같은 기능이다.

```sql
SELECT DEPTNO, EMPNO, ENAME, DNAME 
FROM EMP 
NATURAL JOIN DEPT;
```

뭔가 대충 자동으로 칼럼 이름 + 타입 + 값이 맞는 애들끼리 JOIN이 되는 건 알겠는데, 정확하게는 이해가 안 된다..

## 5. USING 조건절

ON 조건절과 비슷하게 사용한다.

```sql
SELECT * 
FROM DEPT 
JOIN DEPT_TEMP 
USING (DEPTNO);

다음과 똑같다.

SELECT * 
FROM DEPT 
JOIN DEPT_TEMP 
ON DEPT.DEPTNO = DEPT_TEMP.DEPTNO;
```

## 6. **ON 조건절**

솔직히 이건 너무 잘 아는 거라 PASS

```sql
SELECT E.EMPNO, E.ENAME, E.DEPTNO, D.DNAME 
FROM EMP E 
JOIN DEPT D 
ON (E.DEPTNO = D.DEPTNO);
```

### WHERE 절과 혼용

ON 절 뒤에 WHERE 절을 이용해 부가적으로 필터링 조건을 추가할 수 있다.

### 다중 테이블 JOIN

다음과 같이 JOIN + ON을 2번 사용하거나, AND를 사용한 WHERE 절을 통해 여러 개의 테이블을 JOIN할 수 있다.

```sql
SELECT E.EMPNO, D.DEPTNO, D.DNAME, T.DNAME New_DNAME 
FROM EMP E 
JOIN DEPT D 
ON (E.DEPTNO = D.DEPTNO) 
JOIN DEPT_TEMP T 
ON (E.DEPTNO = T.DEPTNO);

SELECT E.EMPNO, D.DEPTNO, D.DNAME, T.DNAME New_DNAME 
FROM EMP E, DEPT D, DEPT_TEMP T 
WHERE E.DEPTNO = D.DEPTNO AND E.DEPTNO = T.DEPTNO;
```

## 7. CROSS JOIN

M * N 개의 모든 데이터 조합을 발생시킨다.

## 8. **OUTER JOIN**

OUTER JOIN은 결합 조건에 해당하지 않는 칼럼들도 모두 결과에 포함시킨다.

LEFT OUTER JOIN의 경우 왼쪽 테이블이 기준 테이블이 되고,

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https://blog.kakaocdn.net/dn/mmdRJ/btreK75rimL/TRJbhBsHXBp1DGzmc5rsYK/img.png)

RIGHT OUTER JOIN의 경우는 그 반대다.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https://blog.kakaocdn.net/dn/Gj7Fq/btreI94vINu/khwpWvPrCz61Ad3Jh0WD1k/img.png)

FULL OUTER JOIN은 (LEFT OUTER JOIN과 RIGHT OUTER JOIN)을 합친 결과가 나온다.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https://blog.kakaocdn.net/dn/7Vm2E/btreKIEOSny/flZ7zb99hEQPS2TAknmPu1/img.png)

FULL OUTER JOIN의 경우는 JOIN이 아예 안되는 경우도 그냥 붙여버린다.

## **9. INNER vs OUTER vs CROSS JOIN 비교**

아래 그림을 예시로 모든 케이스를 설명할 수 있다.

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_203.jpg)