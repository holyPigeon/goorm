# 공부한 내용


## 1. 데이터 모델링이란?

- 현실세계의 복잡한 엔티티들을 일정한 표기법에 맞게 표현한 것을 뜻한다.
- 모델링은 단순해야 하고, 누구나 명확하게 알아볼 수 있어야 한다.
- 모델링에는 3가지 관점이 있다.
    - 데이터 관점 → 말 그대로 데이터 자체를 잘 표현하고 있는지
    - 프로세스 관점 → 비즈니스 관점에서 어떤 행위를 하는지
    - 상관관점 → 앞의 2개를 합쳐서 비즈니스 행위에 따라 데이터가 어떻게 영향을 받는지

## 2.  데이터 모델의 기본 개념

- 데이터 모델링을 하는 이유?
    - 업무에서 필요한 정보들을 간단, 명료하게 표현하여 분석한다.
    - 분석된 모델을 통해 실제 데이터베이스를 구축한다.
- 데이터 모델링은 그 자체로서 업무를 설명하고 분석하는 역할을 한다.

  → 실제로 김영한씨도 부서 이동을 하면 업무 파악을 위해 DB 테이블부터 본다고 한다.


## 3. 데이터 모델링의 중요성

1. 파급효과 → DB 테이블을 변경하면 솔직한 말로 거의 프로젝트를 갈아엎어야 한다. 따라서 초반에 데이터 모델링을 잘 설계해서 만드는 것이 중요하다.
2. 간결한 파악 → 데이터 모델링은 사실상 해당 비즈니스에서 요구하는 정보를 가장 간결하고 명확하게 표현하는 도구이므로 잘 설계해야 한다.
3. 데이터 품질 → 데이터라는 것은 가치가 아주 높은 자산인데, 이런 데이터를 잘못된 구조에 담게 되면 데이터의 품질이 떨어지게 되므로 데이터 모델링을 잘 해야 한다.

## 4. 데이터 모델링의 3단계 진행

개념적 → 논리적 → 물리적

처음에는 추상적이고 현실세계에 가까운 개념에서, 점차 구체적이고 DB 시스템에 맞는 형태로 바뀌어간다.

## 5. 프로젝트 생명주기에서 데이터 모델링

주로 분석 단계에서는 개념적/논리적 모델링을, 설계 단계에서는 물리적 모델링을 진행한다.

## 6. 데이터 독립성의 이해

### 데이터 독립성의 필요성

과거에는 애플리케이션과 데이터베이스의 결합도가 높았고, 이로 인해 어느 한 쪽을 변경하게 되면 나머지 한 쪽이 영향을 받는 경우가 많았다. 최근에는 이러한 상황을 막기 위해 데이터 독립성을 중요시 한다.

이러한 데이터 독립성은 “데이터베이스의 3단계 구조”를 통해 구현되어있다.

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_008.jpg)

이렇게 각 단계가 구분, 독립되어있다보니 외부 단계 ↔ 개념적 단계, 개념적 단계 ↔ 내부적 단계를 연결하는 작업이 필요한데 이것이 “mapping” 이다.

데이터베이스 구조가 바뀌다 보면, 그에 따라 이러한 mapping 또한 바꿔줘야 한다.

## 7. 데이터 모델링의 중요한 세 가지 개념

엔티티, 속성, 관계이다. → 사실 뻔한 내용

아래와 같은 용어 모음도 있는데 알아두면 좋을 것 같다.

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_013.jpg)

## 8. 데이터 모델링의 이해관계자

- 실제 업무에서는 DBA만 데이터 모델링에 참여하는 것이 아니라 일반적인 응용시스템 개발자 또한 설계에 참여한다!
  - 규모가 큰 곳은 아예 모델링만 전문적으로 하는 사람이 있을 수도 있지만, 어쨌든 개발팀 또한 관여를 해야 한다.
  - 따라서 백엔드 개발자라고 해서 DB를 등한시 하지 말고, 잘 공부해두자.

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_015.jpg)

## 9. ERD에 대한 이해

ERD는 담당자가 한 눈에 비즈니스를 파악할 수 있도록 도와주기 때문에 잘 그려야 한다.

### ERD 작업순서

일단 다음과 같은 ERD 작업순서가 있기 때문에 참고하는 것이 좋다.

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_017.jpg)

### 엔티티 배치

- ERD를 그릴 때는 왼쪽 위 → 오른쪽 아래 순으로 중요한 엔티티를 배치하는 것이 읽기에 좋다.
- 가장 중요한 엔티티를 왼쪽 중앙에 위치시키면 선이 꼬이지 않는다.

![](https://dataonair.or.kr/publishing/img/knowledge/SQL_018.jpg)

근데 솔직히 요즘에는 ERD 그려주는 툴이 많아서, 딱히 내가 그리는 방법을 막 알지 않아도 될 것 같다. 딱 이해정도만 해야겠다..

## 10. 좋은 데이터 모델의 요소

- 좋은 데이터 모델이라 부르려면 어떤 요소들이 있을까?
  - 완전성 → 비즈니스에 필요한 데이터가 ERD에 전부 들어가 있어야 한다. 근데 당연한 거 아님?
  - 중복배제 → 동일한 사실을 나타내는 칼럼이 중복으로 들어가 있으면 안된다. (ex. 나이와 생년월일)
  - 업무규칙 → ERD에는 비즈니스가 반영되어 있어야 한다.
  - 데이터 재사용

    → 데이터의 중복이나 낭비 없이, 재사용해야 한다.

    → DB를 바꾸면 파급효과가 너무 크기 때문에, 최대한 유연하고 확장성있게 설계해야한다.


# 어려웠던 내용


## ERD 설계

간단한 구조라면 모르겠지만, 테이블이 20개 이상 넘어가는 구조에서는 솔직히 앞서 나온 규칙들을 전부 지킬 자신이 없다 ㅋㅋ

일단은 너무 복잡한 구조에 적용해보려고 하지 말고, 간단한 DB 구조부터 앞선 규칙들에 잘 맞춰서 설계했는지 분석해보는 게 좋을 것 같다.

Q. 좋은 데이터 모델링의 규칙?

A. 비즈니스에 필요한 데이터와 비즈니스 그 자체를 빠짐없이 잘 반영하고,  확장과 변경에 유연할 수 있도록 한다.

# 궁금한 내용 / 부족한 내용


## DB 설계는 DBA만 하는 것이 아니다?

상당히 의외인 부분이었다. DB 설계는 전문가인 DBA가 거의 도맡아서 할 줄 알았는데, 그런 게 아니라 개발팀과 같이 한다는 게 잘 이해가 가지 않았다.

아무래도 데이터 모델링 자체가 비즈니스를 함축하고 있기 때문에 이를 DBA 한 사람이 담당하기 보다는, 여러 사람이 비교 검증하는 것이 옳다는 이야기인 것 같다.

해당 얘기와는 별개로, 소규모 스타트업 같은 경우는 전문적인 DB 부서가 없는 경우가 많으니 아마도 백엔드 개발자가 이 부분을 다 같이 맡을 가능성이 높다는 생각이 들었다. (DB 뿐만 아니라 데브옵스 관련된 부분 역시)

DB 설계에 대해 꼭 높은 이해도를 가질 수 있도록 노력해야겠다고 생각했다.

## 성능 향상 위한 데이터의 의도적인 중복

자료에서는 DB 설계 자체가 유연성과 확장성을 지녀야 한다고 말한다. 원래대로라면 이를 지키기 위해 데이터를 단 하나만 만들고 나머지 테이블에서 JOIN해서 써야한다.

하지만 이런 식으로 JOIN이 계속되면, 구조적으로 성능이 떨어질 수 있기 때문에 데이터를 의도적으로 중복해서 저장한다고 말하는 것 같다.

# 느낀점


여태 솔직히 각잡고 진지하게 데이터 모델링을 하고 ERD를 짜본 적이 없었는데, 이제는 좋은 ERD란 어떤 것인지에 대해 본격적으로 알게 되어서 다음에 프로젝트를 할 때 만들 ERD를 주의깊게 설계하고, 또 분석해봐야 할 것 같다.